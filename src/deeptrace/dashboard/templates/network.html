<div class="section-header">
  <h1 class="section-title">Network Graph</h1>
  <div class="flex gap-8">
    <button class="btn btn-ghost" onclick="resetGraph()">Reset Zoom</button>
    <button class="btn btn-ghost" onclick="togglePhysics()">Toggle Physics</button>
  </div>
</div>

<div class="graph-legend">
  <div class="legend-item"><div class="legend-dot" style="background:var(--node-entity)" aria-hidden="true"></div> Entity</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--node-evidence)" aria-hidden="true"></div> Evidence</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--node-event)" aria-hidden="true"></div> Event</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--node-hypothesis)" aria-hidden="true"></div> Hypothesis</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--node-suspect)" aria-hidden="true"></div> Suspect Pool</div>
  <div class="legend-item"><div class="legend-dot" style="background:var(--node-source)" aria-hidden="true"></div> Source</div>
  <div class="legend-item"><div class="legend-dot" style="background:#ec4899" aria-hidden="true"></div> Attachment</div>
</div>

<div class="graph-controls">
  <label class="graph-filter-label" for="filter-entity">
    <input type="checkbox" id="filter-entity" checked onchange="applyFilters()"> Entities
  </label>
  <label class="graph-filter-label" for="filter-evidence">
    <input type="checkbox" id="filter-evidence" checked onchange="applyFilters()"> Evidence
  </label>
  <label class="graph-filter-label" for="filter-event">
    <input type="checkbox" id="filter-event" checked onchange="applyFilters()"> Events
  </label>
  <label class="graph-filter-label" for="filter-hypothesis">
    <input type="checkbox" id="filter-hypothesis" checked onchange="applyFilters()"> Hypotheses
  </label>
  <label class="graph-filter-label" for="filter-suspect_pool">
    <input type="checkbox" id="filter-suspect_pool" checked onchange="applyFilters()"> Suspects
  </label>
  <label class="graph-filter-label" for="filter-source">
    <input type="checkbox" id="filter-source" checked onchange="applyFilters()"> Sources
  </label>
  <label class="graph-filter-label" for="filter-attachment">
    <input type="checkbox" id="filter-attachment" checked onchange="applyFilters()"> Attachments
  </label>
</div>

<div id="network-graph" class="graph-container"></div>

<script>
  if (typeof initGraph === 'function') {
    initGraph();
  } else {
    window.addEventListener('load', function() {
      if (typeof initGraph === 'function') initGraph();
    });
  }
</script>
